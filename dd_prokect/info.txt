Onomata Tzanatos Dionyses        Kwnstantinos Velissaris
AM      2022202400203            2022202400021
Mail    dit24203@go.uop.gr       dit24021@go.uop.gr

Σύνοψη

main (dd1.c): Εμφανίζει το μενού (Menu) και καλεί τις λειτουργίες ανάλογα με την επιλογή:
1 → addProduct()
2 → addOrder()
3 → printStock()
4 → makeOrder()
5 → έξοδος

Μενού / είσοδο
Menu() (dd1.c): διαβάζει επιλογή χρήστη και την επιστρέφει στο main.

Προσθήκη / ενημέρωση προϊόντος

addProduct() (dd_addproduct.c): 
1) διαβάζει EAN
2) καλεί validate_ean()
3) αν υπάρχει το προϊόν (μέσω find_product_by_ean()) ενημερώνει το stock, αλλιώς διαβάζει όνομα/τιμή/ποσότητα και αποθηκεύει νέο προϊόν στο products.

Αναζήτηση / έλεγχος κωδικού

find_product_by_ean() (dd_findproduct.c): γραμμική αναζήτηση στον πίνακα products, επιστρέφει index ή -1.

validate_ean() + suggest_codes() (dd_validate.c): ελέγχουν μήκος/μορφή EAN, αν το EAN είναι σύντομο (4..12) προτείνουν υπάρχοντα codes με ίδιο πρόθεμα.

Προσθήκη παραγγελίας

addOrder() (dd_addorder.c):
1) διαβάζει κωδικό πελάτη και όνομα επιχείρησης
2) για κάθε προϊόν: καλεί newProduct() για δημιουργία orderProducts node
3) ταξινομεί προϊόντα με sort_list() κατά προτεραιότητα (first)
4) προσθέτει παραγγελία στην FIFO ουρά με addOrderToFIFO()

newProduct() (dd_addorder.c):
1) διαβάζει EAN προϊόντος, ποσότητα και προτεραιότητα (1-10)
2) ελέγχει εάν υπάρχει το προϊόν στον πίνακα products
3) δημιουργεί νέο orderProducts node και το προσθέτει στη λίστα

Εκτέλεση παραγγελιών

makeOrder() (dd_executionorders.c):
1) αφαιρεί παραγγελίες από την FIFO ουρά με removeOrderFromFIFO()
2) για κάθε παραγγελία: καλεί exePrint() για επεξεργασία και εκτύπωση
3) επιστρέφει την εκτελεσμένη παραγγελία

exePrint() (dd_executionorders.c):
1) ελέγχει διαθεσιμότητα αποθεμάτων για κάθε προϊόν
2) ενημερώνει τα αποθέματα (products[].productVariable)
3) εκτυπώνει απόδειξη με πληροφορίες και συνολική τιμή
4) σε περίπτωση ελλιπούς αποθέματος ενημερώνει τον χρήστη

removeOrderFromFIFO() (dd_executionorders.c):
1) αφαιρεί τον πρώτο κόμβο από την FIFO ουρά
2) ενημερώνει τα head και tail pointers
3) απελευθερώνει τη μνήμη του κόμβου

Εκτύπωση αποθέματος

printStock() (dd_printstock.c): δέχεται * (όλο το απόθεμα), πλήρη EAN, πρόθεμα ή μέρος ονόματος και εκτυπώνει τα αντίστοιχα προϊόντα.

print() (dd_executionorders.c): εκτυπώνει μία παραγγελία (χωρίς να ενημερώνει τα αποθέματα).

Αποθήκευση προϊόντων

products[], product_count (dd_storage.c): το κεντρικό array που μοιράζονται όλα τα modules.

Ποιοι τύποι δομών χρησιμοποιούνται και γιατί

1. Στατικός πίνακας (products[]):
   Χρησιμοποιείται για την αποθήκευση προϊόντων. Επιλέχθηκε γιατί είναι απλός, deterministic και εύκολος στην υλοποίηση. Είναι κατάλληλος για μικρό αριθμό προϊόντων (μέχρι 200) και επιτρέπει γραμμική αναζήτηση κατά EAN/όνομα.

2. Μονοσυνδεδεμένη λίστα (orderProducts):
   Χρησιμοποιείται μέσα σε κάθε παραγγελία για την αποθήκευση πολλαπλών προϊόντων. Επιτρέπει δυναμική προσθήκη προϊόντων και ταξινόμηση κατά προτεραιότητα (first). Η δομή περιέχει: productCode1, quantify, first (προτεραιότητα), *next.

3. Διπλά συνδεδεμένη λίστα ως ουρά FIFO (orderFIFO):
   Χρησιμοποιείται ως ουρά αναμονής για τις παραγγελίες. Εγγυάται ότι οι παραγγελίες εκτελούνται με τη σειρά που εισήχθησαν (First-In-First-Out). Η διπλή σύνδεση διευκολύνει την αφαίρεση από την αρχή και την προσθήκη στο τέλος. Η δομή περιέχει: *prev, order data, *next.

Πως καλούνται τα αρχεία/συναρτήσεις

dd1.c -> Menu(), addProduct() (dd_addproduct.c), addOrder() (dd_addorder.c), printStock() (dd_printstock.c), makeOrder() (dd_executionorders.c)

dd_addproduct.c -> validate_ean() & suggest_codes() (dd_validate.c), find_product_by_ean() (dd_findproduct.c), γράφει/διαβάζει products[] (dd_storage.c)

dd_addorder.c -> newProduct(), sort_list(), tempPrint(), createFIFO(), addOrderToFIFO()

dd_executionorders.c -> removeOrderFromFIFO(), exePrint(), print()

dd_printstock.c -> διαβάζει products[] για εκτύπωση/αναζήτηση

dd_findproduct.c -> διαβάζει products[]

dd_validate.c -> διαβάζει products[] (για προτάσεις)

Κύκλος ζωής παραγγελίας:
1. addOrder() -> δημιουργία παραγγελίας
2. newProduct() -> προσθήκη προϊόντων στη λίστα
3. sort_list() -> ταξινόμηση κατά προτεραιότητα
4. addOrderToFIFO() -> προσθήκη στην FIFO ουρά
5. makeOrder() -> εκτέλεση παραγγελίας
6. removeOrderFromFIFO() -> αφαίρεση από ουρά
7. exePrint() -> επεξεργασία και εκτύπωση

Σημαντικές λεπτομέρειες υλοποίησης:
- Ο έλεγχος EAN γίνεται με validate_ean(): 13 ψηφία = έγκυρο, 4-12 = προτάσεις, άλλο = λάθος
- Η προτεραιότητα (first) είναι από 1 έως 10 (1 = χαμηλότερη, 10 = υψηλότερη)
- Η ταξινόμηση γίνεται με φθίνουσα σειρά προτεραιότητας
- Σε περίπτωση ελλιπούς αποθέματος, εκτελείται όσο είναι διαθέσιμο και ενημερώνεται ο χρήστης